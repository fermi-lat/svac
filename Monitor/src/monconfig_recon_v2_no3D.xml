<monitoring>

  <inputList name="top"> 

    
    <!-- Time stamp -->
    <object> timestamp </object>

     <!-- Event classification information -->
    <object> condsummary </object>


      <!-- Tkr Variables -->
    <object> ReconNumTracks</object>
    <object> ReconVertexPosXYZ </object>
    <object> ReconDirXYZ </object>

     <!-- Cal Variables -->
    <object> ReconEnergy_TowerCalLayer </object>

  </inputList>


  <outputList name="top">

    <!-- Trigger/counters -->

     <object>
      <name> CondsummaryBitAnd30_NOTPeriodic_Counter </name>
      <formula><![CDATA[ 1 ]]></formula>
      <cut><![CDATA[condsummary&30 && !(condsummary&32)]]></cut>
      <type> counter </type>
      <description> Counter of events with condsummaryBitAnd30 AND NotcondsummaryBitAnd32) </description>
    </object>

    


     <!-- Tkr Variables -->

     <object>
      <name> ReconNumTracks_rate[11] </name>
      <formula><![CDATA[ReconNumTracks]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32)]]></cut>
      <type> rate </type>
      <description> Vector[11] reporting the rate of events with n tracks [0,10]. Periodic triggers are NOT taken into account. </description>
    </object>

    
       <object>
      <name> ReconNumTracks_Histo1 </name>
      <formula><![CDATA[ ReconNumTracks ]]></formula>
      <cut><![CDATA[ condsummary&30 ]]></cut>
      <type> histogram-vecdim-1d[11,-0.5,10.5] </type>
      <titledesc>  Number of reconstructed tracks [0-10]   </titledesc>
      <axisdesc> [Number of reconstructed tracks, N] </axisdesc>
      <description> Number of reconstructed tracks [0-10] </description>
    </object>

     <object>
      <name> ReconVertexDir_Mean_XYZ[3] </name>
      <formula><![CDATA[ReconDirXYZ]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32)]]></cut>
      <type> mean </type>
      <description> Vector[3] reporting the MEAN reconstructed Vertex direction X, Y and Z. Periodic triggers are NOT taken into account. </description>
    </object>


       <object>
      <name> ReconVertex_YXDir_Histo2 </name>
      <formula><![CDATA[ ReconDirXYZ[0]:ReconDirXYZ[1] ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-2d[50,-1.0,1.0,50,-1.0,1.0] </type>
      <titledesc> Reconstructed event direction along the X and the Y axis. The values are obtained from the first reconstructed vertex. </titledesc>
      <axisdesc> [X Dir, Y Dir , N] </axisdesc>
      <description> Reconstructed event direction along the X and the Y axis. The values are obtained from the first reconstructed vertex.  </description>
    </object>


       <object>
      <name> ReconVertex_ZDir_Histo1 </name>
      <formula><![CDATA[ ReconDirXYZ[2] ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[50,-1.0,1.0] </type>
      <titledesc> Reconstructed event direction along the Z axis.The value is obtained from the first reconstructed vertex. </titledesc>
      <axisdesc> [Reconstructed Z direction, N] </axisdesc>
      <description> Reconstructed event direction along the Z axis.The value is obtained from the first reconstructed vertex.  </description>
    </object>



     <object>
      <name> ReconVertexPos_Mean_XYZ[3] </name>
      <formula><![CDATA[ReconVertexPosXYZ]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32)]]></cut>
      <type> mean </type>
      <description> Vector[3] reporting the MEAN reconstructed Vertex position X, Y and Z. Periodic triggers are NOT taken into account. </description>
    </object>



        <object>
      <name> ReconVertex_YXPos_Histo2 </name>
      <formula><![CDATA[ ReconVertexPosXYZ[0]:ReconVertexPosXYZ[1] ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-2d[180,-900.0,900.0,180,-900.0,900.0] </type>
      <titledesc> Reconstructed event position along the X and the Y axis. The values are obtained from the first reconstructed vertex. </titledesc>
      <axisdesc> [X Pos (mm), Y Pos (mm) , N] </axisdesc>
      <description> Reconstructed event position along the X and the Y axis. The values are obtained from the first reconstructed vertex.  </description>
    </object>


       <object>
      <name> ReconVertex_ZPos_Histo1 </name>
      <formula><![CDATA[ ReconVertexPosXYZ[2] ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[141,-5.,700.] </type>
      <titledesc> Reconstructed event position along the Z axis.The value is obtained from the first reconstructed vertex. </titledesc>
      <axisdesc> [Reconstructed Z position (mm), N] </axisdesc>
      <description> Reconstructed event position along the Z axis.The value is obtained from the first reconstructed vertex.  </description>
    </object>


      <!-- Cal Variables -->


      <object>
      <name> ReconEnergy_Mean_TowerCalLayer[16][8] </name>
      <formula><![CDATA[foreachtower: foreachcallayer: ReconEnergy_TowerCalLayer[tower][callayer] && ReconEnergy_TowerCalLayer[tower][callayer] >=0.0]]></formula>
      <cut><![CDATA[ condsummary&30]]></cut>
      <type> mean </type>
      <description> Vector [tower][callayer] containing the Mean measured energy (MeV) in the calorimeter layer defined by tower,callayer. Periodic triggers are NOT taken into account. If the layer was totally empty, the value is not taken into account in the average procedure.</description>
    </object>


         <object>
      <name> ReconEnergy_Histo1_TowerCalLayer[16][8] </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: ReconEnergy_TowerCalLayer[tower][callayer] ]]></formula>
      <cut><![CDATA[ condsummary&30 ]]></cut>
      <type> histogram-1d[102,-10.,500.] </type>
      <!--<titledesc> Distribution of energies  </titledesc>-->
      <axisdesc> [Measured energy for this tower/cal-layer (MeV), N] </axisdesc>
      <description> Distribution of measured energy (MeV) per event for this particular Cal-layer defined by the coordinates tower and callayer  </description>
    </object>


     <object>
      <name> ReconEnergy_TowerCalLayer_Histo2 </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: ReconEnergy_TowerCalLayer[tower][callayer] && (ReconEnergy_TowerCalLayer[tower][callayer] >=0) ]]></formula>
      <cut><![CDATA[ condsummary&30 ]]></cut>
      <type> histogram-vecdim-2d[16,-0.5,15.5, 8, -0.5,7.5] </type>
      <titledesc>  Measured energy (MeV) vs tower and cal-layer. Note that, in each bin, the energy of all considered events is added up.    </titledesc>
      <axisdesc> [Tower number, Cal-layer, N] </axisdesc>
      <description> Measured energy (MeV) vs tower and cal-layer. Note that, in each bin, the energy of all considered events is added up.   </description>
    </object>


     <object>
      <name> ZeroReconEnergy_TowerCalLayer_Histo2 </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: ReconEnergy_TowerCalLayer[tower][callayer] ==0 ]]></formula>
      <cut><![CDATA[ condsummary&30 ]]></cut>
      <type> histogram-vecdim-2d[16,-0.5,15.5, 8, -0.5,7.5] </type>
      <titledesc>  Number of times that the measured energy is ZERO, vs tower and cal-layer.  </titledesc>
      <axisdesc> [Tower number, Cal-layer, N] </axisdesc>
      <description> Number of times that the measured energy is ZERO, vs tower and cal-layer.   </description>
    </object>

      <object>
      <name> ReconEnergyFailed_TowerCalLayer_Histo2 </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: ReconEnergy_TowerCalLayer[tower][callayer] < 0 ]]></formula>
      <cut><![CDATA[ condsummary&30 ]]></cut>
      <type> histogram-vecdim-2d[16,-0.5,15.5, 8, -0.5,7.5] </type>
      <titledesc>  Number of times that the energy could not be reconstructed, vs tower and cal-layer.  </titledesc>
      <axisdesc> [Tower number, Cal-layer, N] </axisdesc>
      <description> Number of times that the energy could not be reconstructed measured, vs tower and cal-layer.   </description>
    </object>
 
     
     

    <object>
      <name> ReconEnergy_Mean </name>
      <formula><![CDATA[RFun::loopovertowerANDcallayers_double(ReconEnergy_TowerCalLayer) ]]></formula>
      <cut><![CDATA[ condsummary&30 ]]></cut>
      <type> mean </type>
      <description> Mean measured energy (MeV) in the calorimeter per event. All towers and layers taken into account. Periodic triggers are NOT taken into account. </description>
    </object>


         <object>
      <name> ReconEnergy_LowEnergy_Histo1 </name>
      <formula><![CDATA[ RFun::loopovertowerANDcallayers_double(ReconEnergy_TowerCalLayer) ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[250,0.,1000.] </type>
      <titledesc> Distribution of measured energy (MeV) per event (sum of crystal energies in the CAL cluster). Energies up to 1000 MeV are displayed.  </titledesc>
      <axisdesc> [Measured calorimeter energy (MeV), N] </axisdesc>
      <description> Distribution of measured energy (MeV) per event (sum of crystal energies in the CAL cluster). Energies up to 1000 MeV are displayed. </description>
    </object>

	     <object>
      <name> ReconEnergy_HighEnergy_Histo1 </name>
      <formula><![CDATA[ RFun::loopovertowerANDcallayers_double(ReconEnergy_TowerCalLayer) ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[5000,0.,500000.] </type>
      <titledesc> Distribution of measured energy (MeV) per event (sum of crystal energies in the CAL cluster) . Energies up to 500000 MeV are displayed.  </titledesc>
      <axisdesc> [Measured calorimeter energy (MeV), N] </axisdesc>
      <description> Distribution of measured energy (MeV) per event (sum of crystal energies in the CAL cluster) . Energies up to 500000 MeV are displayed.</description>
    </object>



      <object>
      <name> ReconZeroEnergy_Counter_TowerCalLayer[16][8] </name>
      <formula><![CDATA[foreachtower: foreachcallayer: ReconEnergy_TowerCalLayer[tower][callayer] <=0]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32)]]></cut>
      <type> counter </type>
      <description> Vector [tower][callayer] containing the number of times the calorimeter layer defined by tower,callayer is empty. Periodic triggers are NOT taken into account.</description>
    </object>


      <object>
      <name> ReconZeroEnergy_Fraction_TowerCalLayer[16][8] </name>
      <formula><![CDATA[foreachtower: foreachcallayer: ReconZeroEnergy_Counter_TowerCalLayer[tower][callayer]/double(CondsummaryBitAnd30_NOTPeriodic_Counter)]]></formula>
      <cut><![CDATA[]]></cut>
      <source>output</source>
      <type> outputfloat </type>
      <description> Vector [tower][callayer] containing the fraction of events with ZERO energy in the calorimeter layer defined by tower,callayer is empty. Periodic triggers are NOT taken into account.</description>
    </object>



  </outputList>

  <eventCut><![CDATA[ ]]></eventCut>
  <timestamp> timestamp </timestamp>
</monitoring>
