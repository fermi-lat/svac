<monitoring>

  <inputList name="top"> 

    
    <!-- Time stamp -->
    <object> timestampdouble </object>
     <!-- Event classification information -->
    <object> condsummary </object>

    <!-- ACD Variables -->
    <object>AcdVetoA_AcdTile  </object> 
    <object>AcdVetoB_AcdTile  </object>
    <object> AcdPhaMips_PmtA_AcdTile </object>
    <object> AcdPhaMips_PmtB_AcdTile </object>   
    

      <!-- Tkr Variables -->
    <object> ReconNumTracks</object>
    <object> ReconVertexPosXYZ </object>
    <object> ReconDirXYZ </object>

     <!-- Cal Variables -->
     <object> ReconEnergy_TowerCalLayerCalColumn </object>
     <object> CalXtalFaceSignal </object>
  </inputList>

     

  <outputList name="top">

    <!-- Trigger/counters -->



    <!-- ACD Variables -->
    
    <object>
      <name> ReconAcdPhaMips_PMTA_TH1_AcdTile[128] </name>
      <formula><![CDATA[foreachacdtile: AcdVetoA_AcdTile[acdtile] >0 ? AcdPhaMips_PmtA_AcdTile[acdtile] : -0.1 ]]></formula>
      <cut><![CDATA[ condsummary&30]]></cut>
      <type> histogram-1d[110,0.0,1.10] </type>
      <titledesc>  Distribution of Mip values for PMT A from acd tile index in the name suffix (range [0,127]) </titledesc>
      <axisdesc> [Mip value, N] </axisdesc>
      <description> Distribution of Mip values for PMT A from the acd tile index in the name suffix (range [0,127]). Distribution is truncated at 1.1 Mip. Only events with Veto from PMT A from this tile are considered.  </description>
    </object>


      <object>
      <name> ReconAcdPhaMips_PMTB_TH1_AcdTile[128] </name>
      <formula><![CDATA[foreachacdtile: AcdVetoB_AcdTile[acdtile] >0 ? AcdPhaMips_PmtB_AcdTile[acdtile] : -0.1 ]]></formula>
      <cut><![CDATA[ condsummary&30]]></cut>
      <type> histogram-1d[110,0.0,1.10] </type>
      <titledesc>  Distribution of Mip values for PMT B from acd tile index in the name suffix </titledesc>
      <axisdesc> [Mip value, N] </axisdesc>
      <description> Distribution of Mip values for PMT B from the acd tile index in the name suffix. Distribution is truncated at 1.1 Mip. Only events with Veto from PMT B from this tile are considered.  </description>
    </object>

    


     <!-- Tkr Variables -->


       
       <object>
      <name> ReconNumTracks_TH1 </name>
      <formula><![CDATA[ ReconNumTracks ]]></formula>
      <cut><![CDATA[ condsummary&30 ]]></cut>
      <type> histogram-vecdim-1d[11,-0.5,10.5] </type>
      <titledesc>  Number of reconstructed tracks [0-10]   </titledesc>
      <axisdesc> [Number of reconstructed tracks, N] </axisdesc>
      <description> Number of reconstructed tracks [0-10] </description>
    </object>

     


       <object>
      <name> ReconVertex_YXDir_TH2 </name>
      <formula><![CDATA[ ReconDirXYZ[0]:ReconDirXYZ[1] ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-2d[50,-1.0,1.0,50,-1.0,1.0] </type>
      <titledesc> Reconstructed event direction along the X and the Y axis. The values are obtained from the first reconstructed vertex. </titledesc>
      <axisdesc> [X Dir, Y Dir , N] </axisdesc>
      <description> Reconstructed event direction along the X and the Y axis. The values are obtained from the first reconstructed vertex.  </description>
    </object>


       <object>
      <name> ReconVertex_ZDir_TH1 </name>
      <formula><![CDATA[ ReconDirXYZ[2] ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[50,-1.0,1.0] </type>
      <titledesc> Reconstructed event direction along the Z axis.The value is obtained from the first reconstructed vertex. </titledesc>
      <axisdesc> [Reconstructed Z direction, N] </axisdesc>
      <description> Reconstructed event direction along the Z axis.The value is obtained from the first reconstructed vertex.  </description>
    </object>



   

        <object>
      <name> ReconVertex_YXPos_TH2 </name>
      <formula><![CDATA[ ReconVertexPosXYZ[0]:ReconVertexPosXYZ[1] ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-2d[180,-900.0,900.0,180,-900.0,900.0] </type>
      <titledesc> Reconstructed event position along the X and the Y axis. The values are obtained from the first reconstructed vertex. </titledesc>
      <axisdesc> [X Pos (mm), Y Pos (mm) , N] </axisdesc>
      <description> Reconstructed event position along the X and the Y axis. The values are obtained from the first reconstructed vertex.  </description>
    </object>


       <object>
      <name> ReconVertex_ZPos_TH1 </name>
      <formula><![CDATA[ ReconVertexPosXYZ[2] ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[141,-5.,700.] </type>
      <titledesc> Reconstructed event position along the Z axis.The value is obtained from the first reconstructed vertex. </titledesc>
      <axisdesc> [Reconstructed Z position (mm), N] </axisdesc>
      <description> Reconstructed event position along the Z axis.The value is obtained from the first reconstructed vertex.  </description>
    </object>



      <!-- Cal Variables -->

      

         <object>
      <name> ReconEnergy_TH1_TowerCalLayer[16][8] </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: RFun::loopovercalcolumns_float(ReconEnergy_TowerCalLayerCalColumn[tower][callayer]) ]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32)]]></cut>
      <type> histogram-1d[102,-10.,500.] </type>
      <!--<titledesc> Distribution of energies  </titledesc>-->
      <axisdesc> [Measured energy for this tower/cal-layer (MeV), N] </axisdesc>
      <description> Distribution of measured energy (MeV) per event for this particular Cal-layer defined by the coordinates tower and callayer. Periodic triggers are NOT taken into account. </description>
    </object>


     <object>
      <name> ReconEnergy_TowerCalLayer_TH2 </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: RFun::loopovercalcolumns_float(ReconEnergy_TowerCalLayerCalColumn[tower][callayer]) && (RFun::loopovercalcolumns_float(ReconEnergy_TowerCalLayerCalColumn[tower][callayer]) >=0) ]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32)]]></cut>
      <type> histogram-vecdim-2d[16,-0.5,15.5, 8, -0.5,7.5] </type>
      <titledesc>  Measured energy (MeV) vs tower and cal-layer. Note that, in each bin, the energy of all considered events is added up.    </titledesc>
      <axisdesc> [Tower number, Cal-layer, N] </axisdesc>
      <description> Measured energy (MeV) vs tower and cal-layer. Note that, in each bin, the energy of all considered events is added up.   Periodic triggers are NOT taken into account.</description>
    </object>


     <object>
      <name> ZeroReconEnergy_TowerCalLayer_TH2 </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: RFun::loopovercalcolumns_float(ReconEnergy_TowerCalLayerCalColumn[tower][callayer]) ==0 ]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32)]]></cut>
      <type> histogram-vecdim-2d[16,-0.5,15.5, 8, -0.5,7.5] </type>
      <titledesc>  Number of times that the measured energy is ZERO, vs tower and cal-layer.  </titledesc>
      <axisdesc> [Tower number, Cal-layer, N] </axisdesc>
      <description> Number of times that the measured energy is ZERO, vs tower and cal-layer. Periodic triggers are NOT taken into account.  </description>
    </object>

      <object>
      <name> ReconEnergyFailed_TowerCalLayer_TH2 </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: RFun::loopovercalcolumns_float(ReconEnergy_TowerCalLayerCalColumn[tower][callayer]) < 0 ]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32)]]></cut>
      <type> histogram-vecdim-2d[16,-0.5,15.5, 8, -0.5,7.5] </type>
      <titledesc>  Number of times that the energy could not be reconstructed, vs tower and cal-layer.  </titledesc>
      <axisdesc> [Tower number, Cal-layer, N] </axisdesc>
      <description> Number of times that the energy could not be reconstructed measured, vs tower and cal-layer. Periodic triggers are NOT taken into account.  </description>
    </object>
 

      

      
 <object>
      <name> ReconEnergy_VeryLowEnergy_TH1_TowerCalLayerCalColumn[16][8][12] </name>
      <formula><![CDATA[ foreachtower: foreachcallayer: foreachcalcolumn: (ReconEnergy_TowerCalLayerCalColumn[tower][callayer][calcolumn]>0.0 && ReconEnergy_TowerCalLayerCalColumn[tower][callayer][calcolumn]<=5.0) ? ReconEnergy_TowerCalLayerCalColumn[tower][callayer][calcolumn] : -1.0 ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[120,0.,6.] </type>
      <titledesc> Distribution of measured energy (MeV) in the crystal log. Energies up to 5 MeV are displayed. </titledesc>
      <axisdesc> [Measured crystal log energy (MeV), N] </axisdesc>
      <description> Distribution of measured energy (MeV) in the crystal log defined by the coordinates (suffix in the histogram name) tower,callayer,calcolum. Energies up to 5 MeV are shown in the histogram. Those events whose energy could not be reconstructed for this crystal log are not shown in the histogram.</description>
    </object>

     <object>
      <name> ReconEnergy_VeryLowEnergy_TH1 </name>
      <formula><![CDATA[ (RFun::loopovertowerANDcallayersANDcalcolumns_float(ReconEnergy_TowerCalLayerCalColumn)>0.0 && RFun::loopovertowerANDcallayersANDcalcolumns_float(ReconEnergy_TowerCalLayerCalColumn)<=5.0) ? RFun::loopovertowerANDcallayersANDcalcolumns_float(ReconEnergy_TowerCalLayerCalColumn) : -1.0]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[120,0.,6.] </type>
      <titledesc> Distribution of measured energy (MeV) per event. Energies up to 5 MeV are displayed. </titledesc>
      <axisdesc> [Measured calorimeter energy (MeV), N] </axisdesc>
      <description> Distribution of measured energy (MeV) per event (sum of crystal energies in the CAL cluster). Energies up to 5 MeV are displayed in the histogram. Those events whose overall energy could not be reconstructed are not shown in the histogram.</description>
    </object>



      <object>
      <name> ReconEnergy_LowEnergy_TH1 </name>
      <formula><![CDATA[ (RFun::loopovertowerANDcallayersANDcalcolumns_float(ReconEnergy_TowerCalLayerCalColumn)>0.0 && RFun::loopovertowerANDcallayersANDcalcolumns_float(ReconEnergy_TowerCalLayerCalColumn)<=1000.0) ? RFun::loopovertowerANDcallayersANDcalcolumns_float(ReconEnergy_TowerCalLayerCalColumn) : -1.0 ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[300,0.,1200.] </type>
      <titledesc> Distribution of measured energy (MeV) per event. Energies up to 1000 MeV are displayed.  </titledesc>
      <axisdesc> [Measured calorimeter energy (MeV), N] </axisdesc>
      <description> Distribution of measured energy (MeV) per event (sum of crystal energies in the CAL cluster). Energies up to 1000 MeV are displayed. </description>
    </object>

     <object>
      <name> ReconEnergy_HighEnergy_TH1 </name>
      <formula><![CDATA[ RFun::loopovertowerANDcallayersANDcalcolumns_float(ReconEnergy_TowerCalLayerCalColumn) > 0.0 ? RFun::loopovertowerANDcallayersANDcalcolumns_float(ReconEnergy_TowerCalLayerCalColumn) : -1.0  ]]></formula>
      <cut><![CDATA[ condsummary&30  ]]></cut>
      <type> histogram-1d[5000,0.,500000.] </type>
      <titledesc> Distribution of measured energy (MeV) per event (sum of crystal energies in the CAL cluster) . Energies up to 500000 MeV are displayed.  </titledesc>
      <axisdesc> [Measured calorimeter energy (MeV), N] </axisdesc>
      <description> Distribution of measured energy (MeV) per event (sum of crystal energies in the CAL cluster) . Energies up to 500000 MeV are displayed.</description>
    </object>


     <object>
      <name> SuspCalHi_Highest0_TH2 </name>
      <formula><![CDATA[ RFun::getChannelEnergyHighest(CalXtalFaceSignal,0,0):RFun::getChannelEnergyHighest(CalXtalFaceSignal,0,1)]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32) && condsummary&8 ]]></cut>
      <type> histogram-2d[3072,-0.5,3071.5, 100, 100,3000] </type>
      <titledesc>  Suspect CALHi (highest energy)  </titledesc>
      <axisdesc> [channel number, Energy in MeV, N] </axisdesc>
      <description> 2D histogram showing the highest energy vs channel when CALHi was asserted. Periodic triggers are NOT taken into account.  </description>
    </object>

     <object>
      <name> SuspCalHi_Highest1_TH2 </name>
      <formula><![CDATA[ RFun::getChannelEnergyHighest(CalXtalFaceSignal,1,0):RFun::getChannelEnergyHighest(CalXtalFaceSignal,1,1)]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32) && condsummary&8]]></cut>
      <type> histogram-2d[3072,-0.5,3071.5, 100, 100,3000] </type>
      <titledesc>  Suspect CALHi (highest energy)  </titledesc>
      <axisdesc> [channel number, Energy in MeV, N] </axisdesc>
      <description> 2D histogram showing the second highest energy vs channel when CALHi was asserted. Periodic triggers are NOT taken into account.  </description>
    </object>

      <object>
      <name> SuspCalHi_Highest2_TH2 </name>
      <formula><![CDATA[ RFun::getChannelEnergyHighest(CalXtalFaceSignal,2,0):RFun::getChannelEnergyHighest(CalXtalFaceSignal,2,1)]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32) && condsummary&8 ]]></cut>
      <type> histogram-2d[3072,-0.5,3071.5, 100, 100,3000] </type>
      <titledesc>  Suspect CALHi (third highest energy)  </titledesc>
      <axisdesc> [channel number, Energy in MeV, N] </axisdesc>
      <description> 2D histogram showing the third highest energy vs channel when CALHi was asserted. Periodic triggers are NOT taken into account.  </description>
    </object>


     <object>
      <name> SuspCalLo_Highest0_TH2 </name>
      <formula><![CDATA[ RFun::getChannelEnergyHighest(CalXtalFaceSignal,0,0):RFun::getChannelEnergyHighest(CalXtalFaceSignal,0,1)]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32) && condsummary&4 && !(condsummary&8) ]]></cut>
      <type> histogram-2d[3072,-0.5,3071.5, 100, 1,300] </type>
      <titledesc>  Suspect CALLo (highest energy)  </titledesc>
      <axisdesc> [channel number, Energy in MeV, N] </axisdesc>
      <description> 2D histogram showing the highest energy vs channel when CALHi was asserted. Periodic triggers are NOT taken into account.  </description>
    </object>

     <object>
      <name> SuspCalLo_Highest1_TH2 </name>
      <formula><![CDATA[ RFun::getChannelEnergyHighest(CalXtalFaceSignal,1,0):RFun::getChannelEnergyHighest(CalXtalFaceSignal,1,1)]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32) && condsummary&4 && !(condsummary&8)]]></cut>
      <type> histogram-2d[3072,-0.5,3071.5, 100, 1,300] </type>
      <titledesc>  Suspect CALLo (second highest energy)  </titledesc>
      <axisdesc> [channel number, Energy in MeV, N] </axisdesc>
      <description> 2D histogram showing the second highest energy vs channel when CALHi was asserted. Periodic triggers are NOT taken into account.  </description>
    </object>

      <object>
      <name> SuspCalLo_Highest2_TH2 </name>
      <formula><![CDATA[ RFun::getChannelEnergyHighest(CalXtalFaceSignal,2,0):RFun::getChannelEnergyHighest(CalXtalFaceSignal,2,1)]]></formula>
      <cut><![CDATA[ condsummary&30 && !(condsummary&32) && condsummary&4 && !(condsummary&8)]]></cut>
      <type> histogram-2d[3072,-0.5,3071.5, 100, 1,300] </type>
      <titledesc>  Suspect CALLo (third highest energy)  </titledesc>
      <axisdesc> [channel number, Energy in MeV, N] </axisdesc>
      <description> 2D histogram showing the third highest energy vs channel when CALHi was asserted. Periodic triggers are NOT taken into account.  </description>
    </object>
   

  </outputList>

  <eventCut><![CDATA[ ]]></eventCut>
  <timestamp> timestampdouble  </timestamp>
</monitoring>
